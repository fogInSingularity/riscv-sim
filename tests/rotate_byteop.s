.section .text
.globl _start

_start:
    addi t0, x0, 0              # error accumulator

    ################################################
    # rol / ror on 0x80000001
    ################################################
    lui  t1, 0x80000            # 0x80000000
    addi t1, t1, 1              # 0x80000001
    addi t2, x0, 1

    # rol: 0x80000001 <<rot1 -> 0x00000003
    rol  t3, t1, t2
    addi t4, x0, 3
    sub  t4, t3, t4
    add  t0, t0, t4

    # ror: 0x80000001 >>rot1 -> 0xC0000000
    lui  t1, 0x80000
    addi t1, t1, 1
    addi t2, x0, 1
    ror  t3, t1, t2
    lui  t4, 0xC0000            # 0xC0000000
    sub  t4, t3, t4
    add  t0, t0, t4

    ################################################
    # rori: 0x11223344 rori 8 -> 0x44112233
    ################################################
    lui  t1, 0x11223            # 0x11223000
    addi t1, t1, 0x344          # 0x11223344
    rori t3, t1, 8
    lui  t4, 0x44112            # 0x44112000
    addi t4, t4, 0x233          # 0x44112233
    sub  t4, t3, t4
    add  t0, t0, t4

    ################################################
    # rev8: 0x01020304 -> 0x04030201
    ################################################
    lui  t1, 0x1020             # 0x01020000
    addi t1, t1, 0x304          # 0x01020304
    rev8 t3, t1
    lui  t4, 0x4030             # 0x04030000
    addi t4, t4, 0x201          # 0x04030201
    sub  t4, t3, t4
    add  t0, t0, t4


    ################################################
    # orc.b: 0x00112200 -> 0x00FFFF00
    # bytes: 00 11 22 00 -> 00 FF FF 00
    ################################################
    lui  t1, 0x112              # 0x00112000
    addi t1, t1, 0x200          # 0x00112200
    orc.b t3, t1

    li   t4, 0x00FFFF00         # expected
    sub  t4, t3, t4
    add  t0, t0, t4

    ################################################
    # exit
    ################################################
    addi a0, t0, 0
    addi a7, x0, 93
    ecall

